<!-- <h1>Shop</h1>

<div class="products-list">
  <% products.forEach(product => { %>
    <div class="product-item">
      <h3><%= product.productName %></h3>

      <% if (product.productImage && product.productImage.length > 0) { %>
        <img src="/uploads/product-imgs/<%= product.productImage[0] %>"  alt="<%= product.productName %>">
      <% } else { %>
        <img src="/uploads/product-imgs/no-image.jpg" alt="No image available">
      <% } %>
          
      <p>Price: <%= product.regularPrice %>$</p>
      <% if (product.quantity > 0) { %>
      <a href="#" class="btn btn-primary add-to-cart" data-product-id="<%= product._id %>" style="margin-bottom: 10px;">
        <i class="fas fa-shopping-cart"></i> Add to Cart
    </a>
    <% } %>

      <a href="/product/<%= product._id %>">View Details</a>
    </div>
  <% }) %>
</div>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10/dist/sweetalert2.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  

<%-include("../../views/partials/user/footer")%>



<script>
  $(document).ready(function() {
      $(".add-to-cart").click(function(e) {
          e.preventDefault();
          const productId = $(this).data("product-id");

          $.ajax({
              url: '/cart/add',
              method: 'POST',
              data: { productId: productId },
              success: function(response) {
                  Swal.fire('Added!', response.message, 'success');
              },
              error: function(error) {
                  Swal.fire('Oops!', 'Something went wrong!', 'error');
              }
          });
      });
  });
</script>


 -->

